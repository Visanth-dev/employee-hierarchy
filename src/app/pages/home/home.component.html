<div class="center">
  <a routerLink="/">Hierarchy</a>
  Employee:
  <a routerLink="/add">Add</a>
  <a>Update</a>
</div>

<div class="center">
  <form (submit)="getHierarchy()">
    <!-- <mat-form-field class="mat-form-field"> -->
    <!-- <mat-label>Name</mat-label> -->
    <input
      class="input"
      type="text"
      [(ngModel)]="name"
      name="name"
      (ngModelChange)="getMatchingEmployees()"
      matInput
      [matAutocomplete]="auto"
    />
    <!-- </mat-form-field> -->

    <mat-autocomplete #auto="" matAutocomplete>
      <mat-option
        *ngFor="let employee of employees | async"
        [value]="employee.name"
        (click)="setEmployee(employee)"
      >
        <h6>ID : {{ employee.id }}</h6>
        <h3>{{ employee.name }}</h3>
      </mat-option>
    </mat-autocomplete>

    <button mat-raised-button color="primary" type="submit" value="Search">
      Search
    </button>
  </form>
</div>

<div *ngIf="commandChain && subordinates">
  <div class="center">
    <mat-card class="employee-mat-card" appearance="raised">
      <mat-card-header>
        <mat-card-title>{{ employee.name }}</mat-card-title>
        <mat-card-subtitle>ID: {{ employee.id }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-actions align="end">
        <button mat-button>Update</button>
        <button mat-button>Delete</button>
      </mat-card-actions>
    </mat-card>
  </div>

  <mat-tab-group
    mat-stretch-tabs="false"
    mat-align-tabs="center"
    animationDuration="750ms"
    dynamicHeight
  >
    <mat-tab label="Command Chain">
      <div>
        <h3 class="center" *ngFor="let employee of commandChain | async">
          {{ employee.name }}
        </h3>
      </div>
    </mat-tab>

    <mat-tab label="Subordinates">
      <div>
        <h3 class="center" *ngFor="let employee of subordinates | async">
          {{ employee.name }}
        </h3>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
